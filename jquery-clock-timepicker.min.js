!function(e){e.fn.clockTimePicker=function(t,o){var r,a=e.extend(!0,{afternoonHoursInOuterCircle:!1,alwaysSelectHoursFirst:!1,autosize:!1,colors:{buttonTextColor:"#0797FF",clockFaceColor:"#EEEEEE",clockInnerCircleTextColor:"#888888",clockInnerCircleUnselectableTextColor:"#CCCCCC",clockOuterCircleTextColor:"#000000",clockOuterCircleUnselectableTextColor:"#CCCCCC",hoverCircleColor:"#DDDDDD",popupBackgroundColor:"#FFFFFF",popupHeaderBackgroundColor:"#0797FF",popupHeaderTextColor:"#FFFFFF",selectorColor:"#0797FF",selectorNumberColor:"#FFFFFF",signButtonColor:"#FFFFFF",signButtonBackgroundColor:"#0797FF"},duration:!1,durationNegative:!1,fonts:{fontFamily:"Arial",clockOuterCircleFontSize:14,clockInnerCircleFontSize:12,buttonFontSize:20},hideUnselectableNumbers:!1,i18n:{okButton:"OK",cancelButton:"Cancel"},maximum:"23:59",minimum:"-23:59",modeSwitchSpeed:500,onlyShowClockOnMobile:!1,onAdjust:function(e,t){},onChange:function(e,t){},onClose:function(){},onModeSwitch:function(){},onOpen:function(){},popupWidthOnDesktop:200,precision:1,required:!1,separator:":",useDurationPlusSign:!1,vibrate:!0},"object"==typeof t?t:{}),n=".clock-timepicker input { caret-color: white; }";if(s()&&(n+=" .clock-timepicker input::selection { background:rgba(255,255,255,0.6); } .clock-timepicker input::-moz-selection { background:rgba(255,255,255,0.6); }"),r=!1,e("head style").each(function(){if(e(this).text()==n)return r=!0,!1}),!r){var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=n:c.appendChild(document.createTextNode(n)),(document.head||document.getElementsByTagName("head")[0]).appendChild(c)}return this.each(function(){var r=e(this),n=r.data();for(var c in n)a.hasOwnProperty(c)&&(a[c]=n[c]);if(function(){a.precision=parseInt(a.precision),a.modeSwitchSpeed=parseInt(a.modeSwitchSpeed),a.popupWidthOnDesktop=parseInt(a.popupWidthOnDesktop),a.fonts.clockOuterCircleFontSize=parseInt(a.fonts.clockOuterCircleFontSize),a.fonts.clockInnerCircleFontSize=parseInt(a.fonts.clockInnerCircleFontSize),a.fonts.buttonFontSize=parseInt(a.fonts.buttonFontSize),1!=a.precision&&5!=a.precision&&10!=a.precision&&15!=a.precision&&30!=a.precision&&60!=a.precision&&(console.error("%c[jquery-clock-timepicker] Invalid precision specified: "+a.precision+"! Precision has to be 1, 5, 10, 15, 30 or 60. For now, the precision has been set back to: 1","color:orange"),a.precision=1);a.separator&&!(""+a.separator).match(/[0-9]+/)||(console.error("%c[jquery-clock-timepicker] Invalid separator specified: "+(a.separator?a.separator:"(empty)")+"! The separator cannot be empty nor can it contain any decimals. For now, the separator has been set back to a colon (:).","color:orange"),a.separator=":");a.durationNegative&&!a.duration&&console.log("%c[jquery-clock-timepicker] durationNegative is set to true, but this has no effect because duration is false!","color:orange");a.maximum&&!a.maximum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "maximum": '+a.maximum+"! Maximum not used...","color:orange"),a.maximum=null);a.minimum&&!a.minimum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "minimum": '+a.minimum+"! Minimum not used...","color:orange"),a.minimum=null);!a.minimum||!a.maximum||a.minimum!=a.maximum&&l(a.minimum,a.maximum)||(console.log('%c[jquery-clock-timepicker] Option "minimum" must be smaller than the option "maximum"!',"color:orange"),a.minimum=null)}(),"vibrate"in navigator||(a.vibrate=!1),"string"!=typeof t){e(this).parent().hasClass("clock-timepicker")&&ce(e(this)),r.val(ne(r.val())),s()&&r.prop("readonly",!0);var p=r.val(),m="",u="HOUR",d=!1,f=!1,h=s()?e(document).width()-80:a.popupWidthOnDesktop,g=h-(s()?50:20),k=parseInt(g/2),v=parseInt(g/2),x=parseInt(g/2),b=k-16,w=b-29,y=!1,C=0;r.wrap('<div class="clock-timepicker" style="display:inline-block; position:relative">');var I,M=e('<div class="clock-timepicker-autosize">');if(M.css("position","absolute").css("opacity",0).css("display","none").css("top",parseInt(r.css("margin-top"))+"px").css("left","0px").css("font-size",r.css("font-size")).css("font-family",r.css("font-family")).css("font-weight",r.css("font-weight")).css("line-height",r.css("line-height")),r.parent().append(M),r.css("min-width",r.outerWidth()),ae(),s()){function P(e){e.preventDefault()}function T(e){return e.preventDefault(),e.stopImmediatePropagation(),"HOUR"==u?ie():re(),!1}(I=e('<div class="clock-timepicker-background">')).css("zIndex",99998).css("display","none").css("position","fixed").css("top","0px").css("left","0px").css("width","100%").css("height","100%").css("backgroundColor","rgba(0,0,0,0.6)"),r.parent().append(I),I.off("touchmove",P),I.on("touchmove",P),I.off("click",T),I.on("click",T)}var R=e('<div class="clock-timepicker-popup">');if(R.css("display","none").css("zIndex",99999).css("cursor","default").css("position","fixed").css("width",h+"px").css("backgroundColor",a.colors.popupBackgroundColor).css("box-shadow","0 4px 20px 0px rgba(0, 0, 0, 0.14)").css("border-radius","5px").css("overflow","hidden").css("user-select","none"),R.on("contextmenu",function(){return!1}),s()){function E(e){e.preventDefault()}function O(e){return e.stopImmediatePropagation(),"HOUR"==u?ie():re(),!1}R.css("left","40px").css("top","40px"),window.addEventListener("orientationchange",function(){setTimeout(function(){G(),K()},500)}),R.off("touchmove",E),R.on("touchmove",E),R.off("click",O),R.on("click",O)}if(r.parent().append(R),!s()){function S(t){"none"==R.css("display")||e(t.target)[0]==F[0]||e.contains(F.parent()[0],e(t.target)[0])||ee()}e(window).off("click.clockTimePicker",S),e(window).on("click.clockTimePicker",S)}var F=r;if(s()){(F=e('<div class="clock-timepicker-mobile-time">')).css("width","100%").css("fontFamily",a.fonts.fontFamily).css("fontSize","40px").css("padding","10px 0px").css("textAlign","center").css("color",a.colors.popupHeaderTextColor).css("backgroundColor",a.colors.popupHeaderBackgroundColor);var H=e('<span class="clock-timepicker-mobile-time-hours">');F.append(H);var z=e("<span>");z.html(a.separator),F.append(z);var $=e('<span class="clock-timepicker-mobile-time-minutes">');F.append($),R.append(F)}r.attr("autocomplete")&&r.attr("data-autocomplete-orig",r.attr("autocomplete")),r.prop("autocomplete","off"),r.attr("autocorrect")&&r.attr("data-autocorrect-orig",r.attr("autocorrect")),r.prop("autocorrect","off"),r.attr("autocapitalize")&&r.attr("data-autocapitalize-orig",r.attr("autocapitalize")),r.prop("autocapitalize","off"),r.attr("spellcheck")&&r.attr("data-spellcheck-orig",r.attr("spellcheck")),r.prop("spellcheck",!1),F.on("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),F.on("mousedown.clockTimePicker",se),F.on("keyup.clockTimePicker",function(e){if(e.shiftKey||e.ctrlKey||e.altKey||!e.key.match(/^[0-9]{1}$/))return;var t=le().replace(/.[0-9]+$/,""),o=le().replace(/^(\+|-)?[0-9]+./,""),i="-"==le()[0],n=le();m+=e.key;var c=("HOUR"==u?(i?"-":"")+(a.duration||1!=m.length?"":"0")+m:t)+a.separator+("HOUR"==u?o:(1==m.length?"0":"")+m);l(c,a.minimum)&&(c=a.minimum);l(a.maximum,c)&&(c=a.maximum);pe(c=ne(c)),y=!0;var s=("HOUR"==u?(i?"-":"")+m+"0":t)+a.separator+("HOUR"==u?"00":m+"0");if("MINUTE"==u&&(2==m.length||parseInt(m+"0")>=60)||"HOUR"==u&&!a.duration&&2==m.length||(i?!l(a.minimum,s):!l(s,a.maximum)))return m="","HOUR"==u?60==a.precision||c==a.maximum&&a.maximum.match(/00$/)||"-"==a.minimum[0]&&c==a.minimum&&a.minimum.match(/00$/)?void ee():(oe(),void re()):void ee();"HOUR"==u?ie():re();c!=n&&a.onAdjust.call(r.get(0),c.replace(/^\+/,""),n.replace(/^\+/,""));ae(),K()}),F.on("keydown.clockTimePicker",function(e){if(9==e.keyCode)ee();else if(13==e.keyCode)ee();else if(27==e.keyCode)pe(ne(p)),ee();else if(8==e.keyCode||46==e.keyCode){if(m="",!le())return!1;var t=le();e.preventDefault(),new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(le());var o=!(!a.duration||!a.durationNegative||"-"!=RegExp.$1),i=parseInt(RegExp.$2),n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==u?(pe(ne(c=0==i?a.required?(a.duration?"":"0")+"0"+a.separator+"00":"":(a.duration?"":"0")+"0"+a.separator+(n<10?"0":"")+n)),c?ie():ee(),t!=c&&a.onAdjust.call(r.get(0),c.replace(/^\+/,""),t.replace(/^\+/,""))):0==n?0!=i||a.required?(te(),ie()):(pe(""),""!=t&&a.onAdjust.call(r.get(0),"",t.replace(/^\+/,"")),ee()):(pe(ne(c=(o?"-":"")+(i<10&&!a.duration?"0":"")+i+a.separator+"00")),re(),t!=c&&a.onAdjust.call(r.get(0),c.replace(/^\+/,""),t.replace(/^\+/,""))),ae()}else if(36!=e.keyCode&&37!=e.keyCode||""==le())if(35!=e.keyCode&&39!=e.keyCode||""==le())if(190==e.keyCode||e.key==a.separator)e.preventDefault(),0==le().length&&pe("0"),pe(ne(le())),60!=a.precision?(re(),"MINUTE"!=u&&oe()):ie();else if("+"==e.key&&a.duration&&a.durationNegative){e.preventDefault();var t=le();if("-"==t[0]){var c=t.substring(1);pe(ne(c)),a.onAdjust.call(r.get(0),c,t),ae(),K(),"HOUR"==u?ie():re()}}else if("-"==e.key&&a.duration&&a.durationNegative){e.preventDefault();var t=le().replace(/^\+/,"");if("-"!=t[0]){var c="-"+t;pe(ne(c)),a.onAdjust.call(r.get(0),c,t),ae(),K(),"HOUR"==u?ie():re()}}else{if(38!=e.keyCode&&"+"!=e.key&&40!=e.keyCode&&"-"!=e.key)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;e.preventDefault();var t=le();new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(t);var i=parseInt(RegExp.$2);a.duration&&a.durationNegative&&"-"==RegExp.$1&&(i=-i);var n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==u?i+=38==e.keyCode||"+"==e.key?1:-1:(n+=(38==e.keyCode||"+"==e.key?1:-1)*a.precision)<0?n=0:n>59&&(n=60-a.precision);var s=a.minimum;a.duration&&a.durationNegative||"-"!=s[0]||(s="0:00");var d=a.maximum;if(1!=a.precision){var f=parseInt(d.replace(/^(\+|-)?[0-9]+./,""));d=d.replace(/.[0-9]+$/,"")+a.separator+(f-f%a.precision)}var c=(i<0?"-":"")+(i<10&&!a.duration?"0":"")+Math.abs(i)+a.separator+(n<10?"0":"")+n;"HOUR"==u&&(l(c,d)?l(s,c)||(c=s):c=d),t!=c&&(pe(ne(c)),a.onAdjust.call(r.get(0),c.replace(/^\+/,""),t.replace(/^\+/,"")),ae(),K(),"HOUR"==u?ie():re())}else pe(ne(le())),60!=a.precision&&"MINUTE"!=u?(re(),oe()):(e.preventDefault(),e.stopPropagation());else pe(ne(le())),"HOUR"!=u?(ie(),te()):(e.preventDefault(),e.stopPropagation())}),r.on("mousewheel.clockTimePicker",function(e){r.is(":focus")&&X(e)}),r.on("focus.clockTimePicker",function(e){s()?(J(),te(!0),ie()):setTimeout(function(){"none"==R.css("display")&&se(e)},50)});var U=e("<div>");U.css("position","relative").css("width",g+"px").css("height",g+"px").css("margin","10px "+(s()?25:10)+"px"),R.append(U);var N=e('<canvas class="clock-timepicker-hour-canvas">');N.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px"),N.attr("width",g),N.attr("height",g),V(N),U.append(N);var D=e('<canvas class="clock-timepicker-minute-canvas">');if(D.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px").css("display","none"),D.attr("width",g),D.attr("height",g),V(D),U.append(D),s()){var j=e("<div>");j.css("text-align","right").css("padding","15px 30px"),a.fonts.fontFamily=a.fonts.fontFamily.replace(/\"/g,"").replace(/\'/g,"");var A='<a style="text-decoration:none; color:'+a.colors.buttonTextColor+"; font-family:"+a.fonts.fontFamily+"; font-size:"+a.fonts.buttonFontSize+'px; padding-left:30px">',q=e(A);q.html(a.i18n.cancelButton),q.on("click",function(){ee()}),j.append(q);var B=e(A);B.html(a.i18n.okButton),B.on("click",function(){s()&&r.val(le()),a.vibrate&&navigator.vibrate(10),ee()}),j.append(B),R.append(j)}}else if(e(this).parent().hasClass("clock-timepicker"))if("dispose"==(t=t.toLowerCase()))ce(e(this));else if("value"==t){e(this).val(ne(o));var W=e(this).parent().find(".clock-timepicker-mobile-input");W.length>0&&W.val(ne(o)),e(this).parent().find("canvas:first").trigger("keydown")}else console.log("%c[jquery-clock-timepicker] Invalid option passed to clockTimePicker: "+t,"color:red");else console.log("%c[jquery-clock-timepicker] Before calling a function, please initialize the ClockTimePicker!","color:red");function V(t){s()?(t.on("touchstart",function(t){t.preventDefault();var o=t.originalEvent.touches[0].pageX-e(this).offset().left,i=t.originalEvent.touches[0].pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-v),2)+Math.pow(Math.abs(i-x),2));if(a.duration&&a.durationNegative&&n<=20){f=!0;var c=le();return c.match(/^-/)?newVal=c.substring(1):newVal="-"+c.replace(/^(-|\+)/,""),a.minimum&&!l(a.minimum,newVal)&&(newVal=ne(a.minimum)),a.maximum&&!l(newVal,a.maximum)&&(newVal=ne(a.maximum)),pe(ne(newVal)),K(),a.onAdjust.call(r.get(0),newVal.replace(/^\+/,""),c.replace(/^\+/,"")),void("HOUR"==u?ie():re())}d=!0,Y(o,i)}),t.on("touchend",function(e){e.preventDefault(),d=!1,f||60==a.precision||(oe(),re()),f=!1}),t.on("touchmove",function(t){(t.preventDefault(),d)&&Y(t.originalEvent.touches[0].pageX-e(this).offset().left,t.originalEvent.touches[0].pageY-e(this).offset().top)})):(t.on("mousedown",function(t){Y(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top),d=!0}),t.on("mouseup",function(t){d=!1;var o=t.pageX-e(this).offset().left,i=t.pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-v),2)+Math.pow(Math.abs(i-x),2));if(a.duration&&a.durationNegative&&n<=20){var c=le();return c.match(/^-/)?newVal=c.substring(1):newVal="-"+c.replace(/^(-|\+)/,""),a.minimum&&!l(a.minimum,newVal)&&(newVal=ne(a.minimum)),a.maximum&&!l(newVal,a.maximum)&&(newVal=ne(a.maximum)),pe(ne(newVal)),K(),a.onAdjust.call(r.get(0),newVal.replace(/^\+/,""),c.replace(/^\+/,"")),void("HOUR"==u?ie():re())}if(!Y(o,i,!0))return 60==a.precision?ee():"HOUR"==u?(oe(),re()):ee(),!1;"MINUTE"==u||60==a.precision?ee():(oe(),re())}),t.on("mousemove",function(t){Y(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top)}),t.on("mouseleave",function(e){"HOUR"==u?_():Q()}),t.on("mousewheel",function(e){X(e)})),t.on("keydown",function(e){e.preventDefault(),Y(),te(),ie(),p=le()})}function X(e){var t=window.event||e;if(e.preventDefault(),!((new Date).getTime()-C<100)){C=(new Date).getTime();var o=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(le());var i=!(!a.duration||!a.durationNegative||"-"!=RegExp.$1),n=parseInt(RegExp.$2);i&&(n=-n);var c=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==u?(a.duration&&a.durationNegative&&0==n&&!i&&-1==o?i=!0:a.duration&&a.durationNegative&&0==n&&i&&1==o?i=!1:n+=o,-1==n&&(a.duration?a.durationNegative||(n=0):n=23),24!=n||a.duration||(n=0)):((c+=o*a.precision)<0&&(c=60+c),c>=60&&(c-=60));var s=le(),p=(n<10&&!a.duration?"0":"")+(i&&0==n?"-"+n:n)+a.separator+(c<10?"0":"")+c,m=!0;a.maximum&&!l(p,a.maximum)&&(m=!1),a.minimum&&!l(a.minimum,p)&&(m=!1),m||"HOUR"!=u||(p=ne(o>0?a.maximum:a.minimum),m=!0),m&&(pe(ne(p)),ae(),K(),"HOUR"==u?ie():re(),p!=s&&a.onAdjust.call(r.get(0),p.replace(/^\+/,""),s.replace(/^\+/,"")))}}function Y(e,t,o){var i=360*Math.atan((t-x)/(e-v))/(2*Math.PI)+90,n=Math.sqrt(Math.pow(Math.abs(e-v),2)+Math.pow(Math.abs(t-x),2)),c=0,s=0,p=!1;if(new RegExp("^(-|\\+)?([0-9]+).([0-9]{2})$").test(le())&&(p=!(!a.duration||!a.durationNegative||"-"!=RegExp.$1),c=parseInt(RegExp.$2),s=parseInt(RegExp.$3)),"HOUR"==u){i=Math.round(i/30);var m=-1;if(n<k+10&&n>k-28?e-v>=0?m=0==i?12:i:e-v<0&&(m=i+6):n<k-28&&n>k-65&&(e-v>=0?m=0!=i?i+12:0:e-v<0&&24==(m=i+18)&&(m=0)),a.afternoonHoursInOuterCircle&&(m+=m>=12?-12:12),m>-1){var f=(p?"-":"")+(m<10&&!a.duration?"0":"")+m+a.separator+(s<10?"0":"")+s;if(d||o){var h=!0;if(a.maximum&&!l(f,a.maximum)&&(h=!1),a.minimum&&!l(a.minimum,f)&&(h=!1),h||(a.maximum&&l((p?"-":"")+(m<10&&!a.duration?"0":"")+m+a.separator+"00",a.maximum)&&(f=ne(a.maximum),h=!0),a.minimum&&!l(a.minimum,(p?"-":"")+(m<10&&!a.duration?"0":"")+m+a.separator+"00")&&(f=ne(a.minimum),h=!0)),h)f!=(w=le())&&(a.vibrate&&navigator.vibrate(10),a.onAdjust.call(r.get(0),f.replace(/^\+/,""),w.replace(/^\+/,""))),pe(ne(f)),ae()}return y=!0,_(0==m?24:m,a.duration&&a.durationNegative&&n<=12),!0}return _(null,a.duration&&a.durationNegative&&n<=12),!1}if("MINUTE"==u){i=Math.round(i/6);var g=-1;if(n<k+10&&n>k-40&&(e-v>=0?g=i:e-v<0&&60==(g=i+30)&&(g=0)),g>-1){if(1!=a.precision){var b=Math.floor(g/a.precision);(g=b*a.precision+(1==Math.round((g-b*a.precision)/a.precision)?a.precision:0))>=60&&(g=0)}var w;f=(p?"-":"")+(c<10&&!a.duration?"0":"")+c+a.separator+(g<10?"0":"")+g,h=!0;if(a.maximum&&!l(f,a.maximum)&&(h=!1),a.minimum&&!l(a.minimum,f)&&(h=!1),(d||o)&&h)f!=(w=le())&&(a.vibrate&&navigator.vibrate(10),a.onAdjust.call(r.get(0),f.replace(/^\+/,""),w.replace(/^\+/,""))),pe(ne(f));return y=!0,Q(0==g?60:g,a.duration&&a.durationNegative&&n<=12),!0}return Q(null,a.duration&&a.durationNegative&&n<=12),!1}}function K(){"HOUR"==u?_():Q()}function L(e,t){e.beginPath(),e.arc(v,x,12,0,2*Math.PI,!1),e.fillStyle=a.colors.signButtonBackgroundColor,e.fill(),t&&(e.beginPath(),e.arc(v,x,14,0,2*Math.PI,!1),e.strokeStyle=a.colors.signButtonBackgroundColor,e.stroke()),e.beginPath(),e.moveTo(v-6,x),e.lineTo(v+6,x),e.lineWidth=2,e.strokeStyle=a.colors.signButtonColor,e.stroke(),le().match(/^-/)||(e.beginPath(),e.moveTo(v,x-6),e.lineTo(v,x+6),e.lineWidth=2,e.strokeStyle=a.colors.signButtonColor,e.stroke())}function _(e,t){var o=N.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(le());var r="-"==RegExp.$1,n=parseInt(RegExp.$2);if(o.clearRect(0,0,g,g),n>=24)R.css("visibility","hidden");else{if(a.onlyShowClockOnMobile||R.css("visibility","visible"),0==n&&(n=24),le()||(n=-1),o.beginPath(),o.arc(v,x,k,0,2*Math.PI,!1),o.fillStyle=a.colors.clockFaceColor,o.fill(),!s()&&e){var c=!0;a.maximum&&!l((r?"-":"")+(24==e?"00":e)+":00",a.maximum)&&(c=!1),a.minimum&&!l(a.minimum,(r?"-":"")+(24==e?"00":e)+":00",!0)&&(c=!1),c&&(o.beginPath(),o.arc(v+Math.cos(Math.PI/6*(e%12-3))*(e>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b),x+Math.sin(Math.PI/6*(e%12-3))*(e>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b),15,0,2*Math.PI,!1),o.fillStyle=a.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(v,x,3,0,2*Math.PI,!1),o.fillStyle=a.colors.selectorColor,o.fill(),n>-1&&(!a.maximum||24==n||l(n,a.maximum))&&(o.beginPath(),o.moveTo(v,x),o.lineTo(v+Math.cos(Math.PI/6*(n%12-3))*(n>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b),x+Math.sin(Math.PI/6*(n%12-3))*(n>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b)),o.lineWidth=1,o.strokeStyle=a.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(v+Math.cos(Math.PI/6*(n%12-3))*(n>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b),x+Math.sin(Math.PI/6*(n%12-3))*(n>12?a.afternoonHoursInOuterCircle?b:w:a.afternoonHoursInOuterCircle?w:b),15,0,2*Math.PI,!1),o.fillStyle=a.colors.selectorColor,o.fill()),o.font=a.fonts.clockOuterCircleFontSize+"px "+a.fonts.fontFamily,i=1;i<=12;i++){var p=Math.PI/6*(i-3),m=i;a.afternoonHoursInOuterCircle?(m=i+12,n==i+12?o.fillStyle=a.colors.selectorNumberColor:o.fillStyle=a.colors.clockInnerCircleTextColor,24==m&&(m="00")):n==i?o.fillStyle=a.colors.selectorNumberColor:o.fillStyle=a.colors.clockOuterCircleTextColor,a.maximum&&!l((r?"-":"")+m+":00",a.maximum)||a.minimum&&!l(a.minimum,(r?"-":"")+m+":00",!0)?a.hideUnselectableNumbers||(o.fillStyle=a.colors.clockOuterCircleUnselectableTextColor,o.fillText(m,v+Math.cos(p)*b-o.measureText(m).width/2,x+Math.sin(p)*b+a.fonts.clockOuterCircleFontSize/3)):o.fillText(m,v+Math.cos(p)*b-o.measureText(m).width/2,x+Math.sin(p)*b+a.fonts.clockOuterCircleFontSize/3)}for(o.font=a.fonts.clockInnerCircleFontSize+"px "+a.fonts.fontFamily,i=1;i<=12;i++){p=Math.PI/6*(i-3),m=i;a.afternoonHoursInOuterCircle?n==i?o.fillStyle=a.colors.selectorNumberColor:o.fillStyle=a.colors.clockOuterCircleTextColor:(m=i+12,n==i+12?o.fillStyle=a.colors.selectorNumberColor:o.fillStyle=a.colors.clockInnerCircleTextColor,24==m&&(m="00")),a.maximum&&!l((r?"-":"")+m+":00",a.maximum)||a.minimum&&!l(a.minimum,(r?"-":"")+m+":00",!0)?a.hideUnselectableNumbers||(o.fillStyle=a.colors.clockInnerCircleUnselectableTextColor,o.fillText(m,v+Math.cos(p)*w-o.measureText(m).width/2,x+Math.sin(p)*w+a.fonts.clockInnerCircleFontSize/3)):o.fillText(m,v+Math.cos(p)*w-o.measureText(m).width/2,x+Math.sin(p)*w+a.fonts.clockInnerCircleFontSize/3)}a.duration&&a.durationNegative&&L(o,t)}}function Q(e,t){var o=D.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(le());var r="-"==RegExp.$1,n=parseInt(RegExp.$2),c=parseInt(RegExp.$3);if(le()||(c=-1),a.onlyShowClockOnMobile||R.css("visibility","visible"),o.clearRect(0,0,g,g),o.beginPath(),o.arc(v,x,k,0,2*Math.PI,!1),o.fillStyle=a.colors.clockFaceColor,o.fill(),!s()&&e){60==e&&(e=0);var p=!0;a.maximum&&!l((r?"-":"")+n+":"+(e<10?"0":"")+e,a.maximum)&&(p=!1),a.minimum&&!l(a.minimum,(r?"-":"")+n+":"+(e<10?"0":"")+e)&&(p=!1),p&&(o.beginPath(),o.arc(v+Math.cos(Math.PI/6*(e/5-3))*b,x+Math.sin(Math.PI/6*(e/5-3))*b,15,0,2*Math.PI,!1),o.fillStyle=a.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(v,x,3,0,2*Math.PI,!1),o.fillStyle=a.colors.selectorColor,o.fill(),!(c>-1)||a.maximum&&!l(n+":"+c,a.maximum)||a.minimum&&!l(a.minimum,n+":"+c)||(o.beginPath(),o.moveTo(v,x),o.lineTo(v+Math.cos(Math.PI/6*(c/5-3))*b,x+Math.sin(Math.PI/6*(c/5-3))*b),o.lineWidth=1,o.strokeStyle=a.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(v+Math.cos(Math.PI/6*(c/5-3))*b,x+Math.sin(Math.PI/6*(c/5-3))*b,15,0,2*Math.PI,!1),o.fillStyle=a.colors.selectorColor,o.fill()),o.font=a.fonts.clockOuterCircleFontSize+"px "+a.fonts.fontFamily,i=1;i<=12;i++)if(Math.floor(5*i/a.precision)==5*i/a.precision){var m=Math.PI/6*(i-3);c==5*i||0==c&&12==i?o.fillStyle=a.colors.selectorNumberColor:o.fillStyle=a.colors.clockOuterCircleTextColor;var u=5*i==5?"05":5*i;60==u&&(u="00");p=!0;a.maximum&&!l((r?"-":"")+n+":"+u,a.maximum)&&(p=!1),a.minimum&&!l(a.minimum,(r?"-":"")+n+":"+u)&&(p=!1),p?o.fillText(u,v+Math.cos(m)*b-o.measureText(u).width/2,x+Math.sin(m)*b+a.fonts.clockOuterCircleFontSize/3):a.hideUnselectableNumbers||(o.fillStyle=a.colors.clockOuterCircleUnselectableTextColor,o.fillText(u,v+Math.cos(m)*b-o.measureText(u).width/2,x+Math.sin(m)*b+a.fonts.clockOuterCircleFontSize/3))}c>-1&&c%5!=0&&(o.beginPath(),o.arc(v+Math.cos(Math.PI/6*(c/5-3))*b,x+Math.sin(Math.PI/6*(c/5-3))*b,2,0,2*Math.PI,!1),o.fillStyle="white",o.fill()),a.duration&&a.durationNegative&&L(o,t)}function G(){var t;window.innerHeight<400?(h=window.innerHeight-60,R.css("width",h+200+"px"),F.css("position","absolute").css("left","0px").css("top","0px").css("width","200px").css("height",h+20+"px"),U.css("margin","10px 25px 0px 230px"),t=h+parseInt(U.css("margin-top"))+parseInt(U.css("margin-bottom"))):((h=window.innerWidth-80)>300&&(h=300),R.css("width",h+"px"),F.css("position","static").css("width","100%").css("height","auto"),U.css("margin","10px 25px 10px 25px"),t=h+parseInt(U.css("margin-top"))+parseInt(U.css("margin-bottom"))+65),R.css("left",parseInt((e("body").prop("clientWidth")-R.outerWidth())/2)+"px"),R.css("top",parseInt((window.innerHeight-t)/2)+"px"),g=h-50,k=parseInt(g/2),v=parseInt(g/2),x=parseInt(g/2),w=(b=k-16)-29,U.css("width",g+"px"),U.css("height",g+"px");var o=window.devicePixelRatio||1,i=N.get(0),r=D.get(0);i.width=g*o,i.height=g*o,r.width=g*o,r.height=g*o;var a=i.getContext("2d"),n=r.getContext("2d");a.scale(o,o),n.scale(o,o),N.css("width",g),N.css("height",g),D.css("width",g),D.css("height",g)}function J(){r.val()?pe(ne(r.val())):pe(ne("00:00")),!s()&&a.onlyShowClockOnMobile&&R.css("visibility","hidden"),s()&&G(),R.css("display","block"),K(),s()?I&&I.stop().css("opacity",0).css("display","block").animate({opacity:1},300):(Z(),e(window).on("scroll.clockTimePicker",e=>{Z()})),a.onOpen.call(r.get(0))}function Z(){var t=r.offset().top-e(window).scrollTop()+r.outerHeight();if(t+R.outerHeight()>window.innerHeight){var o=r.offset().top-e(window).scrollTop()-R.outerHeight();o>=0&&(t=o)}var i=r.offset().left-e(window).scrollLeft()-parseInt((R.outerWidth()-r.outerWidth())/2);R.css("left",i+"px").css("top",t+"px")}function ee(){e(window).off("scroll.clockTimePicker");var t=ne(r.val());if(m="",R.css("display","none"),s()?I.stop().animate({opacity:0},300,function(){I.css("display","none")}):r.val(t),function(){if(document.activeElement==F.get(0)){var e=document.createElement("input");r.parent().get(0).appendChild(e),e.focus(),r.parent().get(0).removeChild(e)}}(),y||p||!t.match(new RegExp("^0+"+a.separator+"00$"))){if(p!=t){var o;if("createEvent"in document)(o=document.createEvent("HTMLEvents")).initEvent("change",!0,!1),r.get(0).dispatchEvent(o);else(o=document.createEventObject()).eventType="click",r.get(0).fireEvent("onchange",o);a.onChange.call(r.get(0),t.replace(/^\+/,""),p.replace(/^\+/,"")),p=t}}else pe("");a.onClose.call(r.get(0)),y=!1}function te(e){"HOUR"!=u&&(m="",_(),e?D.css("display","none"):D.css("zIndex",2).stop().animate({opacity:0,zoom:"80%",left:"10%",top:"10%"},a.modeSwitchSpeed,function(){D.css("display","none")}),N.stop().css("zoom","100%").css("left","0px").css("top","0px").css("display","block").css("opacity",1).css("zIndex",1),u="HOUR",a.onModeSwitch.call(r.get(0),u))}function oe(e){"MINUTE"!=u&&(m="",Q(),D.stop().css("display","block").css("zoom","80%").css("left","10%").css("top","10%").css("opacity",0).css("zIndex",1),e?D.css("opacity",1).css("zoom","100%").css("left","0px").css("top","0px"):D.animate({opacity:1,zoom:"100%",left:"0px",top:"0px"}),u="MINUTE",a.onModeSwitch.call(r.get(0),u))}function ie(){F.focus(),setTimeout(function(){s()?(e(".clock-timepicker-mobile-time-hours").css("backgroundColor","rgba(255, 255, 255, 0.6)"),e(".clock-timepicker-mobile-time-minutes").css("backgroundColor","inherit")):F.get(0).setSelectionRange(0,le().indexOf(a.separator))},1)}function re(){F.focus(),setTimeout(function(){s()?(e(".clock-timepicker-mobile-time-hours").css("backgroundColor","inherit"),e(".clock-timepicker-mobile-time-minutes").css("backgroundColor","rgba(255, 255, 255, 0.6)")):F.get(0).setSelectionRange(le().indexOf(a.separator)+1,le().length)},1)}function ae(){a.autosize&&!s()&&(M.html(r.val()),M.css("display","inline-block"),r.css("width",M.outerWidth()+5+parseInt(r.css("padding-left"))+parseInt(r.css("padding-right"))+"px"),M.css("display","none"))}function ne(e){if(""==e)return a.required?a.duration?"0:00":"00:00":e;if(new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2})?)?$","i").test(e)){var t=parseInt(RegExp.$2);(r=parseInt(RegExp.$4))||(r=0);var o=!(!a.duration||!a.durationNegative||"-"!=RegExp.$1);if(t>=24&&!a.duration&&(t%=24),r>=60&&(r%=60),1!=a.precision){var i=Math.floor(r/a.precision);60==(r=i*a.precision+(1==Math.round((r-i*a.precision)/a.precision)?a.precision:0))&&(r=0,24!=++t||a.duration||(t=0))}e=(o?"-":"")+(t<10&&!a.duration?"0":"")+t+a.separator+(RegExp.$3?(r<10?"0":"")+r:"00")}else if(new RegExp("^(-|\\+)?.([0-9]{1,2})").test(e)){var r;(r=parseInt(RegExp.$2))>=60&&(r%=60),e=((o=!(!a.duration||!a.durationNegative||"-"!=RegExp.$1))&&r>0?"-":"")+"0"+(a.duration?"":"0")+a.separator+(r<10?"0":"")+r}else e="0"+(a.duration?"":"0")+a.separator+"00";return(a.duration&&a.useDurationPlusSign&&!e.match(/^\-/)&&!e.match(/^0+:00$/)?"+":"")+e}function ce(e){e.parent().find(".clock-timepicker-autosize").remove(),e.parent().find(".clock-timepicker-background").remove(),e.parent().find(".clock-timepicker-popup").remove(),e.unwrap(),e.off("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker"),e.off("mousedown.clockTimePicker"),e.off("keyup.clockTimePicker"),e.off("keydown.clockTimePicker"),e.off("mousewheel.clockTimePicker"),e.off("focus.clockTimePicker"),e.attr("data-autocomplete-orig")?(e.attr("autocomplete",e.attr("data-autocomplete-orig")),e.removeAttr("data-autocomplete-orig")):e.removeAttr("autocomplete"),e.attr("data-autocorrect-orig")?(e.attr("autocorrect",e.attr("data-autocorrect-orig")),e.removeAttr("data-autocorrect-orig")):e.removeAttr("autocorrect"),e.attr("data-autocapitalize-orig")?(e.attr("autocapitalize",e.attr("data-autocapitalize-orig")),e.removeAttr("data-autocapitalize-orig")):e.removeAttr("autocapitalize"),e.attr("data-spellcheck-orig")?(e.attr("spellcheck",e.attr("data-spellcheck-orig")),e.removeAttr("data-spellcheck-orig")):e.removeAttr("spellcheck")}function se(e){return function(e){var t="none"!=R.css("display");if(le())if(60==a.precision)te(!t),ie();else{var o=F.css("direction");o||(o="ltr");var i=F.css("text-align");i||(i="left");var r=F.innerWidth(),n=parseFloat(F.css("padding-left")),c=r-n-parseFloat(F.css("padding-right"));M.css("display","inline-block"),M.html(le());var s=M.innerWidth();M.html(a.separator);var l=M.innerWidth()/2;M.html(le().replace(new RegExp(a.separator+"[0-9]+$"),"")),l+=M.innerWidth(),M.css("display","none");var p=r/2;"left"==i||"justify"==i||"ltr"==o&&"start"==i||"rtl"==o&&"end"==i?p=Math.floor(n+l):"center"==i?p=Math.floor(n+(c-s)/2+l):("right"==i||"ltr"==o&&"end"==i||"rtl"==o&&"start"==i)&&(p=Math.floor(n+c-(s-l))),e.offsetX>=p-2&&(t||!a.alwaysSelectHoursFirst)?("HOUR"==u&&a.vibrate&&navigator.vibrate(10),oe(!t),re()):("MINUTE"==u&&a.vibrate&&navigator.vibrate(10),te(!t),ie())}else pe(ne("00:00")),te(!t),ie();t||J()}(e),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1}function le(){return s()?e(".clock-timepicker-mobile-time-hours").html()+a.separator+e(".clock-timepicker-mobile-time-minutes").html():F.val()}function pe(t){if(s()){if(t.match(/^(-|\\+)?([0-9]{1,2}).([0-9]{1,2})$/)){var o=RegExp.$1+(a.duration||1!=RegExp.$2.length?"":"0")+RegExp.$2,i=(1==RegExp.$3.length?"0":"")+RegExp.$3;e(".clock-timepicker-mobile-time-hours").html(o),e(".clock-timepicker-mobile-time-minutes").html(i)}}else F.val(t)}});function s(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function l(e,t,o){var i="^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$";new RegExp(i,"i").test(e);var r=60*parseInt(RegExp.$2);RegExp.$4&&!o&&(r+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(r*=-1),new RegExp(i,"i").test(t);var a=60*parseInt(RegExp.$2);return RegExp.$4&&!o&&(a+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(a*=-1),r<=a}}}(jQuery);
