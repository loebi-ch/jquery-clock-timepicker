!function(e){e.fn.clockTimePicker=function(t,o){if("string"==typeof t&&("value"==t||"val"==t)&&!o)return e(this).val();var i,r=e.extend(!0,{afternoonHoursInOuterCircle:!1,alwaysSelectHoursFirst:!1,autosize:!1,contextmenu:!1,colors:{buttonTextColor:"#0797FF",clockFaceColor:"#EEEEEE",clockInnerCircleTextColor:"#888888",clockInnerCircleUnselectableTextColor:"#CCCCCC",clockOuterCircleTextColor:"#000000",clockOuterCircleUnselectableTextColor:"#CCCCCC",hoverCircleColor:"#DDDDDD",popupBackgroundColor:"#FFFFFF",popupHeaderBackgroundColor:"#0797FF",popupHeaderTextColor:"#FFFFFF",selectorColor:"#0797FF",selectorNumberColor:"#FFFFFF",signButtonColor:"#FFFFFF",signButtonBackgroundColor:"#0797FF"},duration:!1,durationNegative:!1,fonts:{fontFamily:"Arial",clockOuterCircleFontSize:14,clockInnerCircleFontSize:12,buttonFontSize:20},hideUnselectableNumbers:!1,i18n:{okButton:"OK",cancelButton:"Cancel"},maximum:"23:59",minimum:"-23:59",modeSwitchSpeed:500,onlyShowClockOnMobile:!1,onAdjust:function(e,t){},onChange:function(e,t){},onClose:function(){},onModeSwitch:function(){},onOpen:function(){},popupWidthOnDesktop:200,precision:1,required:!1,separator:":",useDurationPlusSign:!1,vibrate:!0},"object"==typeof t?t:{}),a=".clock-timepicker input { caret-color: transparent; }";if(c()&&(a+=" .clock-timepicker input::selection { background:rgba(255,255,255,0.6); } .clock-timepicker input::-moz-selection { background:rgba(255,255,255,0.6); }"),i=!1,e("head style").each((function(){if(e(this).text()==a)return i=!0,!1})),!i){var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}return this.each((function(){var i=e(this),a=i.data();for(var n in a)r.hasOwnProperty(n)&&(r[n]=a[n]);if(function(){r.precision=parseInt(r.precision),r.modeSwitchSpeed=parseInt(r.modeSwitchSpeed),r.popupWidthOnDesktop=parseInt(r.popupWidthOnDesktop),r.fonts.clockOuterCircleFontSize=parseInt(r.fonts.clockOuterCircleFontSize),r.fonts.clockInnerCircleFontSize=parseInt(r.fonts.clockInnerCircleFontSize),r.fonts.buttonFontSize=parseInt(r.fonts.buttonFontSize),1!=r.precision&&5!=r.precision&&10!=r.precision&&15!=r.precision&&30!=r.precision&&60!=r.precision&&(console.error("%c[jquery-clock-timepicker] Invalid precision specified: "+r.precision+"! Precision has to be 1, 5, 10, 15, 30 or 60. For now, the precision has been set back to: 1","color:orange"),r.precision=1);r.separator&&!(""+r.separator).match(/[0-9]+/)||(console.error("%c[jquery-clock-timepicker] Invalid separator specified: "+(r.separator?r.separator:"(empty)")+"! The separator cannot be empty nor can it contain any decimals. For now, the separator has been set back to a colon (:).","color:orange"),r.separator=":");r.durationNegative&&!r.duration&&console.log("%c[jquery-clock-timepicker] durationNegative is set to true, but this has no effect because duration is false!","color:orange");r.maximum&&!r.maximum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "maximum": '+r.maximum+"! Maximum not used...","color:orange"),r.maximum=null);r.minimum&&!r.minimum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "minimum": '+r.minimum+"! Minimum not used...","color:orange"),r.minimum=null);!r.minimum||!r.maximum||r.minimum!=r.maximum&&s(r.minimum,r.maximum)||(console.log('%c[jquery-clock-timepicker] Option "minimum" must be smaller than the option "maximum"!',"color:orange"),r.minimum=null)}(),"vibrate"in navigator||(r.vibrate=!1),"string"!=typeof t){e(this).parent().hasClass("clock-timepicker")&&ne(e(this)),i.val(ae(i.val())),c()&&i.prop("readonly",!0);var l=i.val(),p="",m="HOUR",u=!1,d=!1,f=c()?e(document).width()-80:r.popupWidthOnDesktop,h=f-(c()?50:20),g=parseInt(h/2),k=parseInt(h/2),v=parseInt(h/2),x=g-16,b=x-29,y=!1,w=0;i.wrap('<div class="clock-timepicker" style="display:inline-block; position:relative">');var C,I=e('<div class="clock-timepicker-autosize">');if(I.css("position","absolute").css("opacity",0).css("display","none").css("top",parseInt(i.css("margin-top"))+"px").css("left","0px").css("font-size",i.css("font-size")).css("font-family",i.css("font-family")).css("font-weight",i.css("font-weight")).css("line-height",i.css("line-height")),i.parent().append(I),i.css("min-width",i.outerWidth()),re(),c()){function M(e){e.preventDefault()}function P(e){return e.preventDefault(),e.stopImmediatePropagation(),"HOUR"==m?oe():ie(),!1}(C=e('<div class="clock-timepicker-background">')).css("zIndex",99998).css("display","none").css("position","fixed").css("top","0px").css("left","0px").css("width","100%").css("height","100%").css("backgroundColor","rgba(0,0,0,0.6)"),i.parent().append(C),C.off("touchmove",M),C.on("touchmove",M),C.off("click",P),C.on("click",P)}var T=e('<div class="clock-timepicker-popup">');if(T.css("display","none").css("zIndex",99999).css("cursor","default").css("position","fixed").css("width",f+"px").css("backgroundColor",r.colors.popupBackgroundColor).css("box-shadow","0 4px 20px 0px rgba(0, 0, 0, 0.14)").css("border-radius","5px").css("overflow","hidden").css("user-select","none"),T.on("contextmenu",(function(){return!1})),c()){function R(e){e.preventDefault()}function E(e){return e.stopImmediatePropagation(),"HOUR"==m?oe():ie(),!1}T.css("left","40px").css("top","40px"),window.addEventListener("orientationchange",(function(){setTimeout((function(){G(),K()}),500)})),T.off("touchmove",R),T.on("touchmove",R),T.off("click",E),T.on("click",E)}if(i.parent().append(T),!c()){function O(t){"none"==T.css("display")||e(t.target)[0]==F[0]||e.contains(F.parent()[0],e(t.target)[0])||Z()}e(window).off("click.clockTimePicker",O),e(window).on("click.clockTimePicker",O)}var F=i;if(c()){(F=e('<div class="clock-timepicker-mobile-time">')).css("width","100%").css("fontFamily",r.fonts.fontFamily).css("fontSize","40px").css("padding","10px 0px").css("textAlign","center").css("color",r.colors.popupHeaderTextColor).css("backgroundColor",r.colors.popupHeaderBackgroundColor);var S=e('<span class="clock-timepicker-mobile-time-hours">');F.append(S);var H=e("<span>");H.html(r.separator),F.append(H);var z=e('<span class="clock-timepicker-mobile-time-minutes">');F.append(z),T.append(F)}i.attr("autocomplete")&&i.attr("data-autocomplete-orig",i.attr("autocomplete")),i.prop("autocomplete","off"),i.attr("autocorrect")&&i.attr("data-autocorrect-orig",i.attr("autocorrect")),i.prop("autocorrect","off"),i.attr("autocapitalize")&&i.attr("data-autocapitalize-orig",i.attr("autocapitalize")),i.prop("autocapitalize","off"),i.attr("spellcheck")&&i.attr("data-spellcheck-orig",i.attr("spellcheck")),i.prop("spellcheck",!1),F.on("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker",(function(e){if(!r.contextmenu||1==e.which)return e.stopImmediatePropagation(),e.preventDefault(),!1})),F.on("mousedown.clockTimePicker",ce),F.on("keyup.clockTimePicker",(function(e){if(e.shiftKey||e.ctrlKey||e.altKey||!e.key.match(/^[0-9]{1}$/))return;var t=se().replace(/.[0-9]+$/,""),o=se().replace(/^(\+|-)?[0-9]+./,""),a="-"==se()[0],n=se();p+=e.key;var c=("HOUR"==m?(a?"-":"")+(r.duration||1!=p.length?"":"0")+p:t)+r.separator+("HOUR"==m?o:(1==p.length?"0":"")+p);s(c,r.minimum)&&(c=r.minimum);s(r.maximum,c)&&(c=r.maximum);le(c=ae(c)),y=!0;var l=("HOUR"==m?(a?"-":"")+p+"0":t)+r.separator+("HOUR"==m?"00":p+"0");if("MINUTE"==m&&(2==p.length||parseInt(p+"0")>=60)||"HOUR"==m&&!r.duration&&2==p.length||(a?!s(r.minimum,l):!s(l,r.maximum)))return p="","HOUR"==m?60==r.precision||c==r.maximum&&r.maximum.match(/00$/)||"-"==r.minimum[0]&&c==r.minimum&&r.minimum.match(/00$/)?void Z():(te(),void ie()):void Z();"HOUR"==m?oe():ie();c!=n&&(i.attr("value",c.replace(/^\+/,"")),r.onAdjust.call(i.get(0),c.replace(/^\+/,""),n.replace(/^\+/,"")));re(),K()})),F.on("keydown.clockTimePicker",(function(e){if(9==e.keyCode)Z();else if(13==e.keyCode)Z();else if(27==e.keyCode)le(ae(l)),Z();else if(8==e.keyCode||46==e.keyCode){if(p="",!se())return!1;var t=se();e.preventDefault(),new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(se());var o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),a=parseInt(RegExp.$2),n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==m?(le(ae(f=0==a?r.required?(r.duration?"":"0")+"0"+r.separator+"00":"":(r.duration?"":"0")+"0"+r.separator+(n<10?"0":"")+n)),f?oe():Z(),t!=f&&(i.attr("value",f.replace(/^\+/,"")),r.onAdjust.call(i.get(0),f.replace(/^\+/,""),t.replace(/^\+/,"")))):0==n?0!=a||r.required?(ee(),oe()):(le(""),""!=t&&(i.attr("value",""),r.onAdjust.call(i.get(0),"",t.replace(/^\+/,""))),Z()):(le(ae(f=(o?"-":"")+(a<10&&!r.duration?"0":"")+a+r.separator+"00")),ie(),t!=f&&(i.attr("value",f.replace(/^\+/,"")),r.onAdjust.call(i.get(0),f.replace(/^\+/,""),t.replace(/^\+/,"")))),re()}else if(36!=e.keyCode&&37!=e.keyCode||""==se())if(35!=e.keyCode&&39!=e.keyCode||""==se())if(190==e.keyCode||e.key==r.separator)e.preventDefault(),0==se().length&&le("0"),le(ae(se())),60!=r.precision?(ie(),"MINUTE"!=m&&te()):oe();else if("+"==e.key&&r.duration&&r.durationNegative){if(e.preventDefault(),"-"==(t=se())[0])le(ae(f=t.substring(1))),i.attr("value",f),r.onAdjust.call(i.get(0),f,t),re(),K(),"HOUR"==m?oe():ie()}else if("-"==e.key&&r.duration&&r.durationNegative){if(e.preventDefault(),"-"!=(t=se().replace(/^\+/,""))[0])le(ae(f="-"+t)),i.attr("value",f),r.onAdjust.call(i.get(0),f,t),re(),K(),"HOUR"==m?oe():ie()}else{if(38!=e.keyCode&&"+"!=e.key&&40!=e.keyCode&&"-"!=e.key)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;e.preventDefault();t=se();new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(t);a=parseInt(RegExp.$2);r.duration&&r.durationNegative&&"-"==RegExp.$1&&(a=-a);n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==m?a+=38==e.keyCode||"+"==e.key?1:-1:(n+=(38==e.keyCode||"+"==e.key?1:-1)*r.precision)<0?n=0:n>59&&(n=60-r.precision);var c=r.minimum;r.duration&&r.durationNegative||"-"!=c[0]||(c="0:00");var u=r.maximum;if(1!=r.precision){var d=parseInt(u.replace(/^(\+|-)?[0-9]+./,""));u=u.replace(/.[0-9]+$/,"")+r.separator+(d-d%r.precision)}var f=(a<0?"-":"")+(a<10&&!r.duration?"0":"")+Math.abs(a)+r.separator+(n<10?"0":"")+n;"HOUR"==m&&(s(f,u)?s(c,f)||(f=c):f=u),t!=f&&(le(ae(f)),i.attr("value",f.replace(/^\+/,"")),r.onAdjust.call(i.get(0),f.replace(/^\+/,""),t.replace(/^\+/,"")),re(),K(),"HOUR"==m?oe():ie())}else le(ae(se())),60!=r.precision&&"MINUTE"!=m?(ie(),te()):(e.preventDefault(),e.stopPropagation());else le(ae(se())),"HOUR"!=m?(oe(),ee()):(e.preventDefault(),e.stopPropagation())})),i.on("mousewheel.clockTimePicker",(function(e){i.is(":focus")&&X(e)})),i.on("focus.clockTimePicker",(function(e){c()?(J(),ee(!0),oe()):setTimeout((function(){"none"==T.css("display")&&ce(e)}),50)}));var $=e("<div>");$.css("position","relative").css("width",h+"px").css("height",h+"px").css("margin","10px "+(c()?25:10)+"px"),T.append($);var U=e('<canvas class="clock-timepicker-hour-canvas">');U.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px"),U.attr("width",h),U.attr("height",h),W(U),$.append(U);var N=e('<canvas class="clock-timepicker-minute-canvas">');if(N.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px").css("display","none"),N.attr("width",h),N.attr("height",h),W(N),$.append(N),c()){var D=e("<div>");D.css("text-align","right").css("padding","15px 30px"),r.fonts.fontFamily=r.fonts.fontFamily.replace(/\"/g,"").replace(/\'/g,"");var j='<a style="text-decoration:none; color:'+r.colors.buttonTextColor+"; font-family:"+r.fonts.fontFamily+"; font-size:"+r.fonts.buttonFontSize+'px; padding-left:30px">',A=e(j);A.html(r.i18n.cancelButton),A.on("click",(function(){Z()})),D.append(A);var q=e(j);q.html(r.i18n.okButton),q.on("click",(function(){c()&&i.val(se()),r.vibrate&&navigator.vibrate(10),Z()})),D.append(q),T.append(D)}}else if(e(this).parent().hasClass("clock-timepicker"))if("dispose"==(t=t.toLowerCase()))ne(e(this));else if("value"==t||"val"==t){e(this).val(ae(o));var B=e(this).parent().find(".clock-timepicker-mobile-input");B.length>0&&B.val(ae(o))}else"show"==t?e(this).parent().find("canvas:first").trigger("keydown"):"hide"==t?(e(this).parent().find(".clock-timepicker-popup").css("display","none"),e(this).blur()):console.log("%c[jquery-clock-timepicker] Invalid option passed to clockTimePicker: "+t,"color:red");else console.log("%c[jquery-clock-timepicker] Before calling a function, please initialize the ClockTimePicker!","color:red");function W(t){c()?(t.on("touchstart",(function(t){t.preventDefault();var o=t.originalEvent.touches[0].pageX-e(this).offset().left,a=t.originalEvent.touches[0].pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-k),2)+Math.pow(Math.abs(a-v),2));if(r.duration&&r.durationNegative&&n<=20){var c;d=!0;var l=se();return c=l.match(/^-/)?l.substring(1):"-"+l.replace(/^(-|\+)/,""),r.minimum&&!s(r.minimum,c)&&(c=ae(r.minimum)),r.maximum&&!s(c,r.maximum)&&(c=ae(r.maximum)),le(ae(c)),K(),i.attr("value",c.replace(/^\+/,"")),r.onAdjust.call(i.get(0),c.replace(/^\+/,""),l.replace(/^\+/,"")),void("HOUR"==m?oe():ie())}u=!0,Y(o,a)})),t.on("touchend",(function(e){e.preventDefault(),u=!1,d||60==r.precision||(te(),ie()),d=!1})),t.on("touchmove",(function(t){(t.preventDefault(),u)&&Y(t.originalEvent.touches[0].pageX-e(this).offset().left,t.originalEvent.touches[0].pageY-e(this).offset().top)}))):(t.on("mousedown",(function(t){Y(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top),u=!0})),t.on("mouseup",(function(t){u=!1;var o=t.pageX-e(this).offset().left,a=t.pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-k),2)+Math.pow(Math.abs(a-v),2));if(r.duration&&r.durationNegative&&n<=20){var c,l=se();return c=l.match(/^-/)?l.substring(1):"-"+l.replace(/^(-|\+)/,""),r.minimum&&!s(r.minimum,c)&&(c=ae(r.minimum)),r.maximum&&!s(c,r.maximum)&&(c=ae(r.maximum)),le(ae(c)),K(),i.attr("value",c.replace(/^\+/,"")),r.onAdjust.call(i.get(0),c.replace(/^\+/,""),l.replace(/^\+/,"")),void("HOUR"==m?oe():ie())}if(!Y(o,a,!0))return 60==r.precision?Z():"HOUR"==m?(te(),ie()):Z(),!1;"MINUTE"==m||60==r.precision?Z():(te(),ie())})),t.on("mousemove",(function(t){Y(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top)})),t.on("mouseleave",(function(e){"HOUR"==m?_():Q()})),t.on("mousewheel",(function(e){X(e)}))),t.on("keydown",(function(e){e.preventDefault(),Y(),ee(),oe(),l=se()}))}function X(e){var t=window.event||e;if(e.preventDefault(),!((new Date).getTime()-w<100)){w=(new Date).getTime();var o=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(se());var a=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),n=parseInt(RegExp.$2);a&&(n=-n);var c=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==m?(r.duration&&r.durationNegative&&0==n&&!a&&-1==o?a=!0:r.duration&&r.durationNegative&&0==n&&a&&1==o?a=!1:n+=o,-1==n&&(r.duration?r.durationNegative||(n=0):n=23),24!=n||r.duration||(n=0)):((c+=o*r.precision)<0&&(c=60+c),c>=60&&(c-=60));var l=se(),p=(n<10&&!r.duration?"0":"")+(a&&0==n?"-"+n:n)+r.separator+(c<10?"0":"")+c,u=!0;r.maximum&&!s(p,r.maximum)&&(u=!1),r.minimum&&!s(r.minimum,p)&&(u=!1),u||"HOUR"!=m||(p=ae(o>0?r.maximum:r.minimum),u=!0),u&&(le(ae(p)),re(),K(),"HOUR"==m?oe():ie(),p!=l&&(i.attr("value",p.replace(/^\+/,"")),r.onAdjust.call(i.get(0),p.replace(/^\+/,""),l.replace(/^\+/,""))))}}function Y(e,t,o){var a=360*Math.atan((t-v)/(e-k))/(2*Math.PI)+90,n=Math.sqrt(Math.pow(Math.abs(e-k),2)+Math.pow(Math.abs(t-v),2)),c=0,l=0,p=!1;if(new RegExp("^(-|\\+)?([0-9]+).([0-9]{2})$").test(se())&&(p=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),c=parseInt(RegExp.$2),l=parseInt(RegExp.$3)),"HOUR"==m){a=Math.round(a/30);var d=-1;if(n<g+10&&n>g-28?e-k>=0?d=0==a?12:a:e-k<0&&(d=a+6):n<g-28&&n>g-65&&(e-k>=0?d=0!=a?a+12:0:e-k<0&&24==(d=a+18)&&(d=0)),r.afternoonHoursInOuterCircle&&(d+=d>=12?-12:12),d>-1){var f=(p?"-":"")+(d<10&&!r.duration?"0":"")+d+r.separator+(l<10?"0":"")+l;if(u||o){var h=!0;if(r.maximum&&!s(f,r.maximum)&&(h=!1),r.minimum&&!s(r.minimum,f)&&(h=!1),h||(r.maximum&&s((p?"-":"")+(d<10&&!r.duration?"0":"")+d+r.separator+"00",r.maximum)&&(f=ae(r.maximum),h=!0),r.minimum&&!s(r.minimum,(p?"-":"")+(d<10&&!r.duration?"0":"")+d+r.separator+"00")&&(f=ae(r.minimum),h=!0)),h)f!=(w=se())&&(r.vibrate&&navigator.vibrate(10),i.attr("value",f.replace(/^\+/,"")),r.onAdjust.call(i.get(0),f.replace(/^\+/,""),w.replace(/^\+/,""))),le(ae(f)),re()}return y=!0,_(0==d?24:d,r.duration&&r.durationNegative&&n<=12),!0}return _(null,r.duration&&r.durationNegative&&n<=12),!1}if("MINUTE"==m){a=Math.round(a/6);var x=-1;if(n<g+10&&n>g-40&&(e-k>=0?x=a:e-k<0&&60==(x=a+30)&&(x=0)),x>-1){if(1!=r.precision){var b=Math.floor(x/r.precision);(x=b*r.precision+(1==Math.round((x-b*r.precision)/r.precision)?r.precision:0))>=60&&(x=0)}var w;f=(p?"-":"")+(c<10&&!r.duration?"0":"")+c+r.separator+(x<10?"0":"")+x,h=!0;if(r.maximum&&!s(f,r.maximum)&&(h=!1),r.minimum&&!s(r.minimum,f)&&(h=!1),(u||o)&&h)f!=(w=se())&&(r.vibrate&&navigator.vibrate(10),i.attr("value",f.replace(/^\+/,"")),r.onAdjust.call(i.get(0),f.replace(/^\+/,""),w.replace(/^\+/,""))),le(ae(f));return y=!0,Q(0==x?60:x,r.duration&&r.durationNegative&&n<=12),!0}return Q(null,r.duration&&r.durationNegative&&n<=12),!1}}function K(){"HOUR"==m?_():Q()}function L(e,t){e.beginPath(),e.arc(k,v,12,0,2*Math.PI,!1),e.fillStyle=r.colors.signButtonBackgroundColor,e.fill(),t&&(e.beginPath(),e.arc(k,v,14,0,2*Math.PI,!1),e.strokeStyle=r.colors.signButtonBackgroundColor,e.stroke()),e.beginPath(),e.moveTo(k-6,v),e.lineTo(k+6,v),e.lineWidth=2,e.strokeStyle=r.colors.signButtonColor,e.stroke(),se().match(/^-/)||(e.beginPath(),e.moveTo(k,v-6),e.lineTo(k,v+6),e.lineWidth=2,e.strokeStyle=r.colors.signButtonColor,e.stroke())}function _(e,t){var o=U.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(se());var i="-"==RegExp.$1,a=parseInt(RegExp.$2);if(o.clearRect(0,0,h,h),a>=24)T.css("visibility","hidden");else{if(r.onlyShowClockOnMobile||T.css("visibility","visible"),0==a&&(a=24),se()||(a=-1),o.beginPath(),o.arc(k,v,g,0,2*Math.PI,!1),o.fillStyle=r.colors.clockFaceColor,o.fill(),!c()&&e){var n=!0;r.maximum&&!s((i?"-":"")+(24==e?"00":e)+":00",r.maximum)&&(n=!1),r.minimum&&!s(r.minimum,(i?"-":"")+(24==e?"00":e)+":00",!0)&&(n=!1),n&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(e%12-3))*(e>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x),v+Math.sin(Math.PI/6*(e%12-3))*(e>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x),15,0,2*Math.PI,!1),o.fillStyle=r.colors.hoverCircleColor,o.fill())}o.beginPath(),o.arc(k,v,3,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill(),a>-1&&(!r.maximum||24==a||s(a,r.maximum))&&(o.beginPath(),o.moveTo(k,v),o.lineTo(k+Math.cos(Math.PI/6*(a%12-3))*(a>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x),v+Math.sin(Math.PI/6*(a%12-3))*(a>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x)),o.lineWidth=1,o.strokeStyle=r.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(a%12-3))*(a>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x),v+Math.sin(Math.PI/6*(a%12-3))*(a>12?r.afternoonHoursInOuterCircle?x:b:r.afternoonHoursInOuterCircle?b:x),15,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill()),o.font=r.fonts.clockOuterCircleFontSize+"px "+r.fonts.fontFamily;for(let e=1;e<=12;e++){var l=Math.PI/6*(e-3),p=e;r.afternoonHoursInOuterCircle?(p=e+12,o.fillStyle=a==e+12?r.colors.selectorNumberColor:r.colors.clockInnerCircleTextColor,24==p&&(p="00")):o.fillStyle=a==e?r.colors.selectorNumberColor:r.colors.clockOuterCircleTextColor,r.maximum&&!s((i?"-":"")+p+":00",r.maximum)||r.minimum&&!s(r.minimum,(i?"-":"")+p+":00",!0)?r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockOuterCircleUnselectableTextColor,o.fillText(p,k+Math.cos(l)*x-o.measureText(p).width/2,v+Math.sin(l)*x+r.fonts.clockOuterCircleFontSize/3)):o.fillText(p,k+Math.cos(l)*x-o.measureText(p).width/2,v+Math.sin(l)*x+r.fonts.clockOuterCircleFontSize/3)}o.font=r.fonts.clockInnerCircleFontSize+"px "+r.fonts.fontFamily;for(let e=1;e<=12;e++){l=Math.PI/6*(e-3),p=e;r.afternoonHoursInOuterCircle?o.fillStyle=a==e?r.colors.selectorNumberColor:r.colors.clockOuterCircleTextColor:(p=e+12,o.fillStyle=a==e+12?r.colors.selectorNumberColor:r.colors.clockInnerCircleTextColor,24==p&&(p="00")),r.maximum&&!s((i?"-":"")+p+":00",r.maximum)||r.minimum&&!s(r.minimum,(i?"-":"")+p+":00",!0)?r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockInnerCircleUnselectableTextColor,o.fillText(p,k+Math.cos(l)*b-o.measureText(p).width/2,v+Math.sin(l)*b+r.fonts.clockInnerCircleFontSize/3)):o.fillText(p,k+Math.cos(l)*b-o.measureText(p).width/2,v+Math.sin(l)*b+r.fonts.clockInnerCircleFontSize/3)}r.duration&&r.durationNegative&&L(o,t)}}function Q(e,t){var o=N.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(se());var i="-"==RegExp.$1,a=parseInt(RegExp.$2),n=parseInt(RegExp.$3);if(se()||(n=-1),r.onlyShowClockOnMobile||T.css("visibility","visible"),o.clearRect(0,0,h,h),o.beginPath(),o.arc(k,v,g,0,2*Math.PI,!1),o.fillStyle=r.colors.clockFaceColor,o.fill(),!c()&&e){60==e&&(e=0);var l=!0;r.maximum&&!s((i?"-":"")+a+":"+(e<10?"0":"")+e,r.maximum)&&(l=!1),r.minimum&&!s(r.minimum,(i?"-":"")+a+":"+(e<10?"0":"")+e)&&(l=!1),l&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(e/5-3))*x,v+Math.sin(Math.PI/6*(e/5-3))*x,15,0,2*Math.PI,!1),o.fillStyle=r.colors.hoverCircleColor,o.fill())}o.beginPath(),o.arc(k,v,3,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill(),!(n>-1)||r.maximum&&!s(a+":"+n,r.maximum)||r.minimum&&!s(r.minimum,a+":"+n)||(o.beginPath(),o.moveTo(k,v),o.lineTo(k+Math.cos(Math.PI/6*(n/5-3))*x,v+Math.sin(Math.PI/6*(n/5-3))*x),o.lineWidth=1,o.strokeStyle=r.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(n/5-3))*x,v+Math.sin(Math.PI/6*(n/5-3))*x,15,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill()),o.font=r.fonts.clockOuterCircleFontSize+"px "+r.fonts.fontFamily;for(let e=1;e<=12;e++)if(Math.floor(5*e/r.precision)==5*e/r.precision){var p=Math.PI/6*(e-3);o.fillStyle=n==5*e||0==n&&12==e?r.colors.selectorNumberColor:r.colors.clockOuterCircleTextColor;var m=5*e==5?"05":5*e;60==m&&(m="00");l=!0;r.maximum&&!s((i?"-":"")+a+":"+m,r.maximum)&&(l=!1),r.minimum&&!s(r.minimum,(i?"-":"")+a+":"+m)&&(l=!1),l?o.fillText(m,k+Math.cos(p)*x-o.measureText(m).width/2,v+Math.sin(p)*x+r.fonts.clockOuterCircleFontSize/3):r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockOuterCircleUnselectableTextColor,o.fillText(m,k+Math.cos(p)*x-o.measureText(m).width/2,v+Math.sin(p)*x+r.fonts.clockOuterCircleFontSize/3))}n>-1&&n%5!=0&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(n/5-3))*x,v+Math.sin(Math.PI/6*(n/5-3))*x,2,0,2*Math.PI,!1),o.fillStyle="white",o.fill()),r.duration&&r.durationNegative&&L(o,t)}function G(){var t;window.innerHeight<400?(f=window.innerHeight-60,T.css("width",f+200+"px"),F.css("position","absolute").css("left","0px").css("top","0px").css("width","200px").css("height",f+20+"px"),$.css("margin","10px 25px 0px 230px"),t=f+parseInt($.css("margin-top"))+parseInt($.css("margin-bottom"))):((f=window.innerWidth-80)>300&&(f=300),T.css("width",f+"px"),F.css("position","static").css("width","100%").css("height","auto"),$.css("margin","10px 25px 10px 25px"),t=f+parseInt($.css("margin-top"))+parseInt($.css("margin-bottom"))+65),T.css("left",parseInt((e("body").prop("clientWidth")-T.outerWidth())/2)+"px"),T.css("top",parseInt((window.innerHeight-t)/2)+"px"),h=f-50,g=parseInt(h/2),k=parseInt(h/2),v=parseInt(h/2),b=(x=g-16)-29,$.css("width",h+"px"),$.css("height",h+"px");var o=window.devicePixelRatio||1,i=U.get(0),r=N.get(0);i.width=h*o,i.height=h*o,r.width=h*o,r.height=h*o;var a=i.getContext("2d"),n=r.getContext("2d");a.scale(o,o),n.scale(o,o),U.css("width",h),U.css("height",h),N.css("width",h),N.css("height",h)}function J(){i.val()?le(ae(i.val())):le(ae("00:00")),!c()&&r.onlyShowClockOnMobile&&T.css("visibility","hidden"),c()&&G(),T.css("display","block"),K(),c()?C&&C.stop().css("opacity",0).css("display","block").animate({opacity:1},300):(V(),e(window).on("scroll.clockTimePicker",(e=>{V()}))),r.onOpen.call(i.get(0))}function V(){var t=i.offset().top-e(window).scrollTop()+i.outerHeight();if(t+T.outerHeight()>window.innerHeight){var o=i.offset().top-e(window).scrollTop()-T.outerHeight();o>=0&&(t=o)}var r=i.offset().left-e(window).scrollLeft()-parseInt((T.outerWidth()-i.outerWidth())/2);T.css("left",r+"px").css("top",t+"px")}function Z(){e(window).off("scroll.clockTimePicker");var t=ae(i.val());if(p="",T.css("display","none"),c()?C.stop().animate({opacity:0},300,(function(){C.css("display","none")})):i.val(t),function(){if(document.activeElement==F.get(0)){var e=document.createElement("input");i.parent().get(0).appendChild(e),e.focus(),i.parent().get(0).removeChild(e)}}(),y||l||!t.match(new RegExp("^0+"+r.separator+"00$"))){if(l!=t){var o;if("createEvent"in document)(o=document.createEvent("HTMLEvents")).initEvent("change",!0,!1),i.get(0).dispatchEvent(o);else(o=document.createEventObject()).eventType="click",i.get(0).fireEvent("onchange",o);r.onChange.call(i.get(0),t.replace(/^\+/,""),l.replace(/^\+/,"")),l=t}}else le("");r.onClose.call(i.get(0)),y=!1}function ee(e){"HOUR"!=m&&(p="",_(),e?N.css("display","none"):N.css("zIndex",2).stop().animate({opacity:0,zoom:"80%",left:"10%",top:"10%"},r.modeSwitchSpeed,(function(){N.css("display","none")})),U.stop().css("zoom","100%").css("left","0px").css("top","0px").css("display","block").css("opacity",1).css("zIndex",1),m="HOUR",r.onModeSwitch.call(i.get(0),m))}function te(e){"MINUTE"!=m&&(p="",Q(),N.stop().css("display","block").css("zoom","80%").css("left","10%").css("top","10%").css("opacity",0).css("zIndex",1),e?N.css("opacity",1).css("zoom","100%").css("left","0px").css("top","0px"):N.animate({opacity:1,zoom:"100%",left:"0px",top:"0px"}),m="MINUTE",r.onModeSwitch.call(i.get(0),m))}function oe(){F.focus(),setTimeout((function(){c()?(e(".clock-timepicker-mobile-time-hours").css("backgroundColor","rgba(255, 255, 255, 0.6)"),e(".clock-timepicker-mobile-time-minutes").css("backgroundColor","inherit")):F.get(0).setSelectionRange(0,se().indexOf(r.separator))}),1)}function ie(){F.focus(),setTimeout((function(){c()?(e(".clock-timepicker-mobile-time-hours").css("backgroundColor","inherit"),e(".clock-timepicker-mobile-time-minutes").css("backgroundColor","rgba(255, 255, 255, 0.6)")):F.get(0).setSelectionRange(se().indexOf(r.separator)+1,se().length)}),1)}function re(){r.autosize&&!c()&&(I.html(i.val()),I.css("display","inline-block"),i.css("width",I.outerWidth()+5+parseInt(i.css("padding-left"))+parseInt(i.css("padding-right"))+"px"),I.css("display","none"))}function ae(e){if(""==e)return r.required?r.duration?"0:00":"00:00":e;if(new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2})?)?$","i").test(e)){var t=parseInt(RegExp.$2);(a=parseInt(RegExp.$4))||(a=0);var o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1);if(t>=24&&!r.duration&&(t%=24),a>=60&&(a%=60),1!=r.precision){var i=Math.floor(a/r.precision);60==(a=i*r.precision+(1==Math.round((a-i*r.precision)/r.precision)?r.precision:0))&&(a=0,24!=++t||r.duration||(t=0))}e=(o?"-":"")+(t<10&&!r.duration?"0":"")+t+r.separator+(RegExp.$3?(a<10?"0":"")+a:"00")}else if(new RegExp("^(-|\\+)?.([0-9]{1,2})").test(e)){var a;(a=parseInt(RegExp.$2))>=60&&(a%=60),e=((o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1))&&a>0?"-":"")+"0"+(r.duration?"":"0")+r.separator+(a<10?"0":"")+a}else e="0"+(r.duration?"":"0")+r.separator+"00";return(r.duration&&r.useDurationPlusSign&&!e.match(/^\-/)&&!e.match(/^0+:00$/)?"+":"")+e}function ne(e){e.parent().find(".clock-timepicker-autosize").remove(),e.parent().find(".clock-timepicker-background").remove(),e.parent().find(".clock-timepicker-popup").remove(),e.unwrap(),e.off("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker"),e.off("mousedown.clockTimePicker"),e.off("keyup.clockTimePicker"),e.off("keydown.clockTimePicker"),e.off("mousewheel.clockTimePicker"),e.off("focus.clockTimePicker"),e.attr("data-autocomplete-orig")?(e.attr("autocomplete",e.attr("data-autocomplete-orig")),e.removeAttr("data-autocomplete-orig")):e.removeAttr("autocomplete"),e.attr("data-autocorrect-orig")?(e.attr("autocorrect",e.attr("data-autocorrect-orig")),e.removeAttr("data-autocorrect-orig")):e.removeAttr("autocorrect"),e.attr("data-autocapitalize-orig")?(e.attr("autocapitalize",e.attr("data-autocapitalize-orig")),e.removeAttr("data-autocapitalize-orig")):e.removeAttr("autocapitalize"),e.attr("data-spellcheck-orig")?(e.attr("spellcheck",e.attr("data-spellcheck-orig")),e.removeAttr("data-spellcheck-orig")):e.removeAttr("spellcheck")}function ce(e){if(!r.contextmenu||1==e.which)return function(e){var t="none"!=T.css("display");if(se())if(60==r.precision)ee(!t),oe();else{var o=F.css("direction");o||(o="ltr");var i=F.css("text-align");i||(i="left");var a=F.innerWidth(),n=parseFloat(F.css("padding-left")),c=a-n-parseFloat(F.css("padding-right"));I.css("display","inline-block"),I.html(se());var s=I.innerWidth();I.html(r.separator);var l=I.innerWidth()/2;I.html(se().replace(new RegExp(r.separator+"[0-9]+$"),"")),l+=I.innerWidth(),I.css("display","none");var p=a/2;"left"==i||"justify"==i||"ltr"==o&&"start"==i||"rtl"==o&&"end"==i?p=Math.floor(n+l):"center"==i?p=Math.floor(n+(c-s)/2+l):("right"==i||"ltr"==o&&"end"==i||"rtl"==o&&"start"==i)&&(p=Math.floor(n+c-(s-l))),e.offsetX>=p-2&&(t||!r.alwaysSelectHoursFirst)?("HOUR"==m&&r.vibrate&&navigator.vibrate(10),te(!t),ie()):("MINUTE"==m&&r.vibrate&&navigator.vibrate(10),ee(!t),oe())}else le(ae("00:00")),ee(!t),oe();t||J()}(e),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1}function se(){return c()?e(".clock-timepicker-mobile-time-hours").html()+r.separator+e(".clock-timepicker-mobile-time-minutes").html():F.val()}function le(t){if(c()){if(t.match(/^(-|\\+)?([0-9]{1,2}).([0-9]{1,2})$/)){var o=RegExp.$1+(r.duration||1!=RegExp.$2.length?"":"0")+RegExp.$2,i=(1==RegExp.$3.length?"0":"")+RegExp.$3;e(".clock-timepicker-mobile-time-hours").html(o),e(".clock-timepicker-mobile-time-minutes").html(i)}}else F.val(t)}}));function c(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function s(e,t,o){var i="^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$";new RegExp(i,"i").test(e);var r=60*parseInt(RegExp.$2);RegExp.$4&&!o&&(r+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(r*=-1),new RegExp(i,"i").test(t);var a=60*parseInt(RegExp.$2);return RegExp.$4&&!o&&(a+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(a*=-1),r<=a}}}(jQuery);